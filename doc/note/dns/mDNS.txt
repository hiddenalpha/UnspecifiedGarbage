

  && (cd /c/work/projects/isa-svc/lazlar/lazlar-mdns/target && tar c classes) | ssh qemu -oRemoteCommand='cd lazlar-discovery-20240711 && tar x' \

  DST_HOST=224.0.0.251

# Example: AACEAAAAAAcAAAAAGlN5c3RlbURvY3VtZW50YXRpb25TZXJ2aWNlDF9pYmlzaXBfaHR0cARfdGNwBWxvY2FsAAAhgAEAAA4QABIAAAAAH5AJYzItaHctbmF2wDnADAAQgAEAAA4QABAPcGF0aD0vaGVpbWRhbGwvF1RpY2tldFZhbGlkYXRpb25TZXJ2aWNlwCcAEIABAAAOEAAQD3BhdGg9L2hlaW1kYWxsL8B4ACGAAQAADhAACAAAAAAfkMBQF1N5c3RlbU1hbmFnZW1lbnRTZXJ2aWNlwCcAIYABAAAOEAAIAAAAAB+QwFDAwAAQgAEAAA4QABAPcGF0aD0vaGVpbWRhbGwvwFAAAYABAAAOEAAEwKgKAg==
 
# Example 2:
# AACEAAAAAAUAAAAADF9pYmlzaXBfaHR0cARfdGNwBWxvY2FsAAAMAAEAABGUABoXRGV2aWNlTWFuYWdlbWVudFNlcnZpY2XADMAvABCAAQAAEZQACAd2ZXI9Mi4xwC8AIYABAAAAeAAaAAAAABJ8EXRpY29tcGFjdC0wMDY1MTc1wB7AbwAcgAEAAAB4ABD+gAAAAAAAAG4/JkGqflRTwG8AAYABAAAAeAAEwKgKlA==

  && printf '\x00\x00\x84\x00\x00\x00\x00\x07\x00\x00\x00\x00\x1aSystemDocumentationService\x0c\x5f\x69\x62\x69\x73\x69\x70\x5f\x68\x74\x74\x70\x04\x5f\x74\x63\x70\x05\x6c\x6f\x63\x61\x6c\x00\x00\x21\x80\x01\x00\x00\x0e\x10\x00\x12\x00\x00\x00\x00\x1f\x90\x09\x63\x32\x2d\x68\x77\x2d\x6e\x61\x76\xc0\x39\xc0\x0c\x00\x10\x80\x01\x00\x00\x0e\x10\x00\x10\x0f\x70\x61\x74\x68\x3d\x2f\x68\x65\x69\x6d\x64\x61\x6c\x6c\x2f\x17\x54\x69\x63\x6b\x65\x74\x56\x61\x6c\x69\x64\x61\x74\x69\x6f\x6e\x53\x65\x72\x76\x69\x63\x65\xc0\x27\x00\x10\x80\x01\x00\x00\x0e\x10\x00\x10\x0f\x70\x61\x74\x68\x3d\x2f\x68\x65\x69\x6d\x64\x61\x6c\x6c\x2f\xc0\x78\x00\x21\x80\x01\x00\x00\x0e\x10\x00\x08\x00\x00\x00\x00\x1f\x90\xc0\x50\x17\x53\x79\x73\x74\x65\x6d\x4d\x61\x6e\x61\x67\x65\x6d\x65\x6e\x74\x53\x65\x72\x76\x69\x63\x65\xc0\x27\x00\x21\x80\x01\x00\x00\x0e\x10\x00\x08\x00\x00\x00\x00\x1f\x90\xc0\x50\xc0\xc0\x00\x10\x80\x01\x00\x00\x0e\x10\x00\x10\x0f\x70\x61\x74\x68\x3d\x2f\x68\x65\x69\x6d\x64\x61\x6c\x6c\x2f\xc0\x50\x00\x01\x80\x01\x00\x00\x0e\x10\x00\x04\xc0\xa8\x0a\x02' \
       | ncat --send-only -u "${DST_HOST?}" "5353"


  && ( `# Send an example mDNS discovery packet` \
    && printf '\x00\x00' `# Transaction ID` \
    && printf '\x84\x00' `# Flags` \
    && printf '\x00\x00' `# Questions` \
    && printf '\x00\x07' `# num Answer RRs` \
    && printf '\x00\x00' `# num Authority RRs` \
    && printf '\x00\x00' `# num Additional RRs` \
    && `# RR[0]` \
    && `# TODO split other RR[x] entries` \
    && printf '\x1aSystemDocumentationService' `# Instance` \
    && printf '\x0c_ibisip_http' `# Service` \
    && printf '\x04_tcp' `# Proto` \
    && printf '\x05local' `# Name` \
    && printf '\x00\x00\x21\x80\x01\x00\x00\x0e\x10\x00\x12\x00\x00\x00\x00\x1f\x90' `# TODO` \
    && printf '\x09c2-hw-nav' `# TODO` \
    && printf '\xc09\xc0\x0c\x00\x10\x80\x01\x00\x00\x0e\x10\x00\x10' `# TODO` \
    && printf '\x0fpath=/heimdall/' `# TODO` \
    && printf '\x17TicketValidationService' `# TODO` \
    && printf '\xc0\x27\x00\x10\x80\x01\x00\x00\x0e\x10\x00\x10' `# TODO` \
    && printf '\x0fpath=/heimdall/' `# TODO` \
    && printf '\xc0x\x00\x21\x80\x01\x00\x00\x0e\x10\x00\x08\x00\x00\x00\x00\x1f\x90\xc0P' `# TODO` \
    && printf '\x17SystemManagementService' `# TODO` \
    && printf '\xc0\x27\x00\x21\x80\x01\x00\x00\x0e\x10\x00\x08\x00\x00\x00\x00\x1f\x90\xc0P\xc0\xc0\x00\x10\x80\x01\x00\x00\x0e\x10\x00\x10' `# TODO` \
    && printf '\x0fpath=/heimdall/' `# TODO` \
    && printf '\xc0P\x00\x01\x80\x01\x00\x00\x0e\x10\x00\x04\xc0\xa8\x0a\x02' `# TODO` \
  ) | ncat --send-only -u "${DST_HOST?}" "5353"


  && `# DST_HOST=fe80::5054:ff:fe12:3456%ens3 ` \
  && ( `# ticompact service broadcast` \
    && printf '\x00\x00\x84\x00\x00\x00\x00\x05\x00\x00\x00\x00' \
    && printf '\x0c_ibisip_http' \
    && printf '\x04_tcp' \
    && printf '\x05local' \
    && printf '\x00\x00\x0c\x00\x01\x00\x00\x11\x94\x00\x1a' \
    && printf '\x17DeviceManagementService' \
    && printf '\xc0\x0c\xc0\x2f\x00\x10\x80\x01\x00\x00\x11\x94\x00\x08\x07' \
    && printf 'ver=2' \
    && printf '\x2e1\xc0\x2f\x00\x21\x80\x01\x00\x00\x00x\x00\x1a\x00\x00\x00\x00\x12\x7c' \
    && printf '\x11ticompact' \
    && printf '\x2d0065175' \
    && printf '\xc0\x1e\xc0o\x00\x1c\x80\x01\x00\x00\x00x\x00\x10\xfe\x80\x00\x00\x00\x00\x00\x00n\x3f\x26A\xaa\x7eTS\xc0o\x00\x01\x80\x01\x00\x00\x00x\x00\x04\xc0\xa8\x0a\x94' \
  ) | ncat --send-only -u "${DST_HOST?}" "5353"

  && `# DST_HOST=fe80::5054:ff:fe12:3456%ens3 ` \
  && ( `# AXIS service discovery broadcast example from donneri at 20240711` \
    && printf '\x00\x00\x84\x00\x00\x00\x00\x01\x00\x00\x00\x06\x05\x5f\x68\x74\x74\x70\x04\x5f\x74\x63\x70\x05\x6c\x6f\x63\x61\x6c\x00\x00\x0c\x00\x01\x00\x00\x11\x94\x00\x1e\x1b\x41\x58\x49\x53\x20\x4d\x33\x39\x30\x35\x2d\x52\x20\x2d\x20\x42\x38\x41\x34\x34\x46\x37\x42\x39\x38\x44\x30\xc0\x0c\xc0\x28\x00\x10\x80\x01\x00\x00\x11\x94\x00\x01\x00\xc0\x28\x00\x21\x80\x01\x00\x00\x00\x78\x00\x1a\x00\x00\x00\x00\x00\x50\x11\x61\x78\x69\x73\x2d\x62\x38\x61\x34\x34\x66\x37\x62\x39\x38\x64\x30\xc0\x17\xc0\x65\x00\x01\x80\x01\x00\x00\x00\x78\x00\x04\xc0\xa8\x0a\xe4\xc0\x65\x00\x01\x80\x01\x00\x00\x00\x78\x00\x04\xa9\xfe\x90\x4e\xc0\x28\x00\x2f\x80\x01\x00\x00\x11\x94\x00\x09\xc0\x28\x00\x05\x00\x00\x80\x00\x40\xc0\x65\x00\x2f\x80\x01\x00\x00\x00\x78\x00\x05\xc0\x65\x00\x01\x40' \
  ) | ncat --send-only -u "${DST_HOST?}" "5353"



